<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>HomePage</title>
<link rel="shortcut icon" href="/static/bitbug_favicon.ico">
</head>
<style>
    
    #divcss5{margin-top: 100px }
    .btns {
        text-decoration:none;
	background:#2f435e;
	color:#f2f2f2;
	
	padding: 10px 30px 10px 30px;
	font-size:16px;
	font-family: 微软雅黑,宋体,Arial,Helvetica,Verdana,sans-serif;
	font-weight:bold;
	border-radius:3px;
	
	-webkit-transition:all linear 0.30s;
	-moz-transition:all linear 0.30s;



}
input:disabled{

border: 1px solid #DDD;

background-color: #F5F5F5;

color:#ACA899;

}
th,
td {
      
      height: 40px;
      
    }
table{ display: inline-table;}
</style>
<script type="text/javascript">

    function checkOrCancelAll(){

    var chElt=document.getElementById("chElt");

    var checkedElt=chElt.checked;
    console.log(checkedElt)
    
    var allCheck=document.getElementsByName("check");


    if(checkedElt){

    for(var i=0;i<allCheck.length;i++){

    allCheck[i].checked=true;
    }

    }else{

    for(var i=0;i<allCheck.length;i++){
    allCheck[i].checked=false;
    }

    }
    }
    function checkmethod(){ 
  var reg=document.getElementsByName("check"); 
  flag = true;
    for(var i=0;i<reg.length;i++){
      if(reg[i].checked){
        document.getElementById("submit1").disabled=false; 
        flag=false
      }
    }
    if(flag){
      document.getElementById("submit1").disabled=true; 
    }

  
  } 
    </script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">

<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
<body>
  <div class="navbar navbar-default" role="navigation" >
    　<div class="navbar-header">

    　    <a href="##" class="navbar-brand">Exomol</a>
  
    　</div>
    
      <ul class="nav navbar-nav">
           <li ><a href="{% url 'home' %}">HomePage</a></li>
     
              <li class="active">
            <a href="##" data-toggle="dropdown" class="dropdown-toggle">Search<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="{% url 'page1' %}">By line</a></li>
              <li><a href="##">Option1</a></li>
              <li class="disabled"><a href="##">Option2</a></li>
            </ul>
            </li>
        
         <li><a href="##">Introduction</a></li>
         <li><a href="##">About us</a></li>
         <li><a href="##">Contact</a></li>
      </ul>
      <a href="https://twitter.com/ExoMol"><img src="/static/twitter.png" style=" width: 50px; max-width: 50%; height: auto;margin-left: 45%;"></a>
   
  </div>


 
                <div >

                <p style="font-size: 20px;margin-top:-1.5%;background-color: rgb(179, 218, 230);height:60px; line-height:60px;">
                  Line-by-Line Search
                 
                </p>
            </div>
            <div >

              <p style="font-size: 20px;background-color: rgb(209, 218, 219);margin-top:-0.7%;height:60px; line-height:60px;">
                Step1: Select Molecule
               
              </p>
          </div>
          <p style="font-size: 15px;margin-bottom: -5%;margin-left: 10%;">
            Please select at least one molecule you want to query (Click the "+" button to see more information)
               
              </p>
    <form action="/post1/" method="post">
        {% csrf_token %}
    <table style="width: 300px; margin-left: 10%;display: inline-table;" class="table-striped table-hover table-bordered" class="table">
       
        <HR style= " FILTER: alpha (opacity = 100, finishopacity =0 , style= 3 );margin-top: 5%;" width ="80%" color =#987 cb 9 SIZE = 3 >
        <thead>
          <tr>
            <th style="background-color: cornsilk;">Formula</th>

          </tr>
        </thead>
        <tbody>
            <tr>
                <td><input type="checkbox" id="chElt" onclick="checkOrCancelAll();checkmethod();"/><span id="mySpan">All</span></td>
                
                </tr>
          <tr>
            <td><input type="checkbox" name="check" value= "" id="test" onclick="checkmethod();">C<sub>2</sub>H<sub>2</sub></td>

          </tr>
          <tr>
            <td><input type="checkbox" value="C2" name="check" onclick="checkmethod();">C<sub>2</sub></td>
 
          </tr>
          <tr>
            <td><input type="checkbox" value="aih" name="check"onclick="checkmethod();">AIH</td>

          </tr>

          <tr>
            <td><input type="checkbox" value="NH3" name="check"onclick="checkmethod();">NH<sub>3</sub></td>

          </tr>
          <tr>
            <td><input type="checkbox" value="H3O" name="check"onclick="checkmethod();">H<sub>3</sub>O</td>

          </tr>
          <tr>
            <td><input type="checkbox" value="H2O" name="check"onclick="checkmethod();">H<sub>2</sub>O</td>

          </tr>
          <tr>
            <td><input type="checkbox" value="CO2" name="check"onclick="checkmethod();">CO<sub>2</sub></td>

          </tr>
          
          
        </tbody>
      </table>
      
  <table id="myTable" class="table-striped table-hover table-bordered" class="table" >
    <thead>
    </thead>
    <tbody>
    </tbody>
  </table>

  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
  <script>
    /** 
     * mock数据
     * btn: 描述该字段用于点击按钮
     * flage: 用于描述该字段会根据按钮的点击显示 隐藏状态会发生改变
     * isShow: 用于决定该字段是否用于渲染
     */
    var header = [

      { value: '+', isShow: true, btn: true },
      { value: 'line conut', isShow: false, flage: true },
      { value: 'v'+'min'.sub()+"(cm"+"-1".sup()+")", isShow: false, flage: true },
      { value: 'v'+'max'.sub()+"(cm"+"-1".sup()+")", isShow: false, flage: true }

    ]
    var bodys = [
      {
        datas: [
        { value: '', isShow: false ,flage: true},
          { value: '', isShow: false ,flage: true},
          { value: '', isShow: false, flage: true },
          { value: '', isShow: false, flage: true }]
      },
      {
        datas: [

          { value: '', isShow: false ,flage: true},
          { value: '46756', isShow: false, flage: true },
          { value: '10.29642', isShow: false, flage: true },
          { value: '9916.742262', isShow: false, flage: true }]
      },
      {
        datas: [

          { value: '', isShow: false ,flage: true},
          { value: '13840', isShow: false, flage: true },
          { value: '0.763158', isShow: false, flage: true },
          { value: '39499.13891', isShow: false, flage: true }]
      },
      {
        datas: [

          { value: '', isShow: false ,flage: true},
          { value: '613', isShow: false, flage: true },
          { value: '11.529100', isShow: false, flage: true },
          { value: '340.639205', isShow: false, flage: true }]
      },
      {
        datas: [

          { value: '', isShow: false ,flage: true},
          { value: '447861', isShow: false, flage: true },
          { value: '0.002844', isShow: false, flage: true },
          { value: '7069.913065', isShow: false, flage: true }]
      },
      {
        datas: [

          { value: '', isShow: false ,flage: true},
          { value: '19', isShow: false, flage: true },
          { value: '10.246790', isShow: false, flage: true },
          { value: '3573.623760', isShow: false, flage: true }]
      }
      ,
      {
        datas: [

          { value: '', isShow: false ,flage: true},
          { value: '2138022', isShow: false, flage: true },
          { value: '0.000471', isShow: false, flage: true },
          { value: '25173.768522', isShow: false, flage: true }]
      }
      ,
      {
        datas: [

          { value: '', isShow: false ,flage: true},
          { value: '2920520', isShow: false, flage: true },
          { value: '0.000715', isShow: false, flage: true },
          { value: '15248.620695', isShow: false, flage: true }]
      }
      
    ]
      

    // 初始化定义两段html
    var headerHtml
    var bodysHtml

    // 渲染函数
    function renderHtml() {
      $('#myTable thead').empty()
      $('#myTable tbody').empty()
      headerHtml = $('<tr>')
      // 渲染thead
      header.forEach((v, i) => {
        var tds
        if (v.btn) {
          tds = `<th style="width:50px;text-align:center;background-color: cornsilk;"><a href='javascript:void(0)' class='extend'>${v.value}</a></th>`
        } else {
          if (v.isShow) {
            tds = `<th style="background-color: cornsilk;">${v.value}</th>`
          }
        }
        headerHtml.append(tds)
      })

      // 渲染tbody
      bodys.forEach((v, i) => {
        bodysHtml = $('<tr>')
        v.datas.forEach((item, idx) => {
          var tds
          if (item.isShow) {
            tds = `<td>${item.value}</td>`
          }
          bodysHtml.append(tds)
        })
        $('#myTable tbody').append(bodysHtml)
      })
      $('#myTable thead').append(headerHtml)
    }


    renderHtml()


    $('#myTable').on('click', '.extend', function () {
      if ($(this).text() === '-') {

        header = header.map((v, i) => {
          if (v.flage || v.flage === false) {
            v.isShow = false
            return v
          } else if(v.btn){
            v.value = '+'
            return v
          } else {
            return v
          }
        })

        bodys = bodys.map((v, i) => {
          v.datas.map((item, idx) => {
            if(item.flage){
              item.isShow = false
              return item
            } else {
              return item
            }
          })
          return v
        })
      } else {

        header = header.map((v, i) => {
          if (v.flage || v.flage === false) {
            v.isShow = true
            return v
          } else if(v.btn){
            v.value = '-'
            return v
          } else {
            return v
          }
        })

        bodys = bodys.map((v, i) => {
          v.datas.map((item, idx) => {
            if(item.flage){
              item.isShow = true
              return item
            } else {
              return item
            }
          })
          return v
        })
      }

      renderHtml()
    })
  </script>
      

     


    <br>
   
    <input type="submit" class="btns" value="Next" style="margin-left:46%;margin-top: 5%;margin-bottom: 5%;" id='submit1' disabled>
    <script type="text/javascript">
        function f()
        {
        num = "C2H2";
        document.getElementById('test').value=num;
        }
        f();
    </script>
    </form>
 
      <div class="divFooter" >
     
        <div style="width: 100%;float:left;margin-left: 0%; 
        BORDER-TOP: 1px groove; 
        BACKGROUND: rgb(220, 239, 243); 
         
      
        height: 100px;">
        <p style="margin-top: 1%;margin-left: 10%;"class="text-info">This web page was developed by <strong>Yunfan Sun</strong>. </br>
            The original data source is <strong>exomol database</strong>, 
            and the data is processed by <strong>Jingxin Zhang</strong></p>
      
         
        </p>
        
        </div>




      




</body>
</html>